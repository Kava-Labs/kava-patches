From 02e1b41c2f886ebbad18e193e320f077e175edb2 Mon Sep 17 00:00:00 2001
From: Nick DeLuca <nickdeluca08@gmail.com>
Date: Fri, 6 May 2022 11:23:22 -0700
Subject: [PATCH 03/12] update eth_gasPrice endpoint to use min gas price when
 NoBaseFee set to (#7)

true
---
 rpc/ethereum/namespaces/eth/api.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/rpc/ethereum/namespaces/eth/api.go b/rpc/ethereum/namespaces/eth/api.go
index 2cbbb247..f6625ccf 100644
--- a/rpc/ethereum/namespaces/eth/api.go
+++ b/rpc/ethereum/namespaces/eth/api.go
@@ -201,7 +201,7 @@ func (e *PublicAPI) GasPrice() (*hexutil.Big, error) {
 		result *big.Int
 		err    error
 	)
-	if head := e.backend.CurrentHeader(); head.BaseFee != nil {
+	if head := e.backend.CurrentHeader(); head.BaseFee != nil && head.BaseFee.BitLen() > 0 {
 		result, err = e.backend.SuggestGasTipCap(head.BaseFee)
 		if err != nil {
 			return nil, err
-- 
2.38.1

